#!/usr/bin/env python3

from argparse import ArgumentParser
from rucksack.cli import RucksackCli

if __name__ == "__main__":

  parser = ArgumentParser()
  parser.add_argument('host')
  parser.add_argument('--config-file',
    help='Configuration file to be used (overrides default config search logic)',
    default=None,
    )
  parser.add_argument('--config-directory',
    help='Configuration directory to be used (overrides default config search logic)',
    default=None
    )

  args = parser.parse_args()

  try:
    RucksackCli(args.host, config_file=args.config_file, config_directory=args.config_directory).start()
  except (KeyboardInterrupt, EOFError):
    # TODO: really this should be caught in the above class and then propagated so that we can close down the connection
    print('Goodbye!')
    quit()

